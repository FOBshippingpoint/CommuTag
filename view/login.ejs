<!doctype html>
<html lang="zh-Hant-TW">
	<head>
		<% include head %>
	</head>
	<body>
		<div class="login-app" id="loginApp">
			<div class="main-content">
				<div class="loginPanel" id="loginPanel">
					<div class="login" v-show="mode === 'login'">
						<div class="method-title">社群登入</div>
						<div class="google-bt" v-on:click="LoginByGoogle();">Google 登入</div>
						<div class="facebook-bt" v-on:click="LoginByFacebook();">Facebook 登入</div>
						<div class="seperator"></div>
						<div class="method-title">信箱登入</div>
						<form ref="loginForm" method="post" v-bind:action="pwLoginAction">
							<div class="relative-box">
								<div class="item-label">帳號</div>
								<div class="forget-password" v-on:click="ForgetPassword();">忘記密碼</div>
							</div>
							<input type="email" name="email" v-model="email" placeholder="請輸入電子信箱">
							<div class="item-label">密碼</div>
							<input type="password" name="password" v-model="password" placeholder="請輸入密碼" v-on:keyup.13="LoginByPassword();">
							<div class="login-bt" v-on:click="LoginByPassword();">登入</div>
						</form>
						<div class="text-link" v-on:click="mode='signup';">註冊新帳號</div>
						<div class="seperator"></div>
						<div class="text-link" v-on:click="window.location.href='/'; ">回首頁</div>
					</div>
					
					<div class="signup" v-show="mode === 'signup'">
						<div class="method-title">快速註冊</div>
						<div class="google-bt" v-on:click="LoginByGoogle();">Google 註冊</div>
						<div class="facebook-bt" v-on:click="LoginByFacebook();">Facebook 註冊</div>
						<div class="seperator"></div>
						<form ref="signupForm" method="post" v-bind:action="pwSignupAction">
							<div class="method-title">信箱註冊</div>
							<div class="item-label">帳號</div>
							<input type="email" name="email" v-model="email" placeholder="請輸入電子信箱">
							<div class="item-label">姓名</div>
							<input type="text" name="name" v-model="name" placeholder="請輸入姓名">
							<div class="item-label">密碼</div>
							<input type="password" name="password" v-model="password" placeholder="請輸入密碼">
							<div class="item-label">確認密碼</div>
							<input type="password" v-model="passwordConfirm" placeholder="請再次確認密碼" v-on:keyup.13="SignupByPassword();">
							<div class="login-bt" v-on:click="SignupByPassword();">註冊</div>
						</form>
						<div class="text-link" v-on:click="mode='login';">返回登入</div>
					</div>

					<div class="resetPassword" v-show="mode === 'resetPassword'">
						<form ref="resetForm" method="post" action="/auth/reset-password">
							<div class="item-label">輸入新密碼</div>
							<input type="password" name="password" v-model="password" placeholder="請輸入密碼">
							<div class="item-label">確認新密碼</div>
							<input type="password" v-model="passwordConfirm" placeholder="請再次確認密碼" v-on:keyup.13="ResetPassword();">
							<div class="login-bt" v-on:click="ResetPassword();">重設密碼</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<script src="https://maps.googleapis.com/maps/api/js?libraries=visualization&sensor=false&key=AIzaSyBUGDJex2sQeScb1Wxcm7oiPGwdmyoLhHM"></script>
		<script src="https://code.jquery.com/jquery-2.2.2.min.js"   integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI="   crossorigin="anonymous"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.9/d3.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.8/vue.min.js"></script>
		<script src="/static/js/util.js?v=<%=meta.version%>"></script>
		<script src="/static/js/login.js?v=<%=meta.version%>"></script>
	</body>
</html>