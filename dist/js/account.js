!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist",n(n.s=5)}([function(t,e,n){"use strict"},function(t,e,n){},,,,function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";n.r(e);n(0),n(1);new Vue({el:"#accountApp",data:{user:{},userStatistic:{},uploadTitle:"變更圖片",openInputPanel:!1},created:function(){$.get("/user/info",function(t){"ok"==t.status&&(this.user=t.data)}.bind(this))},methods:{ChangePhoto:function(){"變更圖片"==this.uploadTitle&&this.$refs.uploadBt.click()},UploadPhoto:function(){if(0!=event.target.files.length){this.uploadTitle="上傳中...";var t=event.target.files[0],e=new FormData;e.append("uploadImage",t);var n=$("meta[name='csrf-token']").attr("content");$.ajax({url:"/user/upload-image?_csrf="+n,type:"POST",data:e,processData:!1,contentType:!1,xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var e=parseInt(100*t.loaded/t.total);this.uploadTitle="上傳中... "+e+"%"}}.bind(this),!1),t}.bind(this),success:function(t){if("ok"!=t.status)return alert("更新圖片失敗");this.uploadTitle="變更圖片",window.location.reload()}.bind(this),error:function(t,e,n){console.log(n)}})}},SubmitUserInfo:function(){if(!this.user.name)return alert("請輸入您的姓名");if(!this.user.contactEmail)return alert("請輸入您的Email");if(!util.ValidateEmail(this.user.contactEmail))return alert("請輸入正確的Email格式");var t=$("meta[name='csrf-token']").attr("content");$.post("/user/edit",{data:this.user,_csrf:t},function(t){alert("ok"==t.status?"修改成功":"修改失敗"),window.location.reload()}.bind(this))}}}),window.addEventListener("load",(function(){})),window.addEventListener("resize",(function(t){}))}]);
//# sourceMappingURL=account.js.map